<?xml version="1.0" encoding="utf-8" ?>
<!--
  Página: userFormPage.xaml
  Descripción: Formulario para crear, editar o ver información de usuarios.
  ViewModel esperado: UserFormViewModel
  Bindings clave:
    - Title, FirstName, LastName, Email
    - IsReadOnly, ShowSaveButton
    - SaveCommand, CancelCommand
-->
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CONATRADEC.Views.userFormPage"
             Title="Formulario de usuario"
             Shell.NavBarIsVisible="False"
             Background="Transparent">

    <!--
      Distribución principal:
      - Fila 0: Encabezado con el título dinámico (Create/Edit/View)
      - Fila 1: Contenido del formulario dentro de un ScrollView
    -->
    <Grid RowDefinitions="auto, *" BackgroundColor="Transparent">

        <!-- TÍTULO PRINCIPAL -->
        <!-- El texto proviene de la propiedad 'Title' del ViewModel -->
        <Label Text="{Binding Title}"
               TextColor="{StaticResource color_Verde}"
               FontSize="24"
               FontAttributes="Bold"
               HorizontalOptions="Start"
               Grid.Row="0"
               Margin="10,20,0,0" />

        <!-- FORMULARIO SCROLLABLE (permite desplazarse en pantallas pequeñas) -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="10" Spacing="15">

                <!-- CAMPO: Nombre del usuario -->
                <Border Style="{StaticResource BorderStyle}">
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Nombre"
                               FontAttributes="Bold"
                               FontSize="17"
                               TextColor="{StaticResource color_Negro}" />
                        <!--
                          Entry enlazado a la propiedad FirstName del ViewModel.
                          Se deshabilita en modo visualización (IsReadOnly = true).
                        -->
                        <Entry Placeholder="Nombre"
                               Style="{StaticResource EntryStyle}"
                               Text="{Binding FirstName}"
                               IsReadOnly="{Binding IsReadOnly}" />
                    </VerticalStackLayout>
                </Border>

                <!-- CAMPO: Apellido del usuario -->
                <Border Style="{StaticResource BorderStyle}">
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Apellido"
                               FontAttributes="Bold"
                               FontSize="17"
                               TextColor="{StaticResource color_Negro}" />
                        <Entry Placeholder="Apellido"
                               Style="{StaticResource EntryStyle}"
                               Text="{Binding LastName}"
                               IsReadOnly="{Binding IsReadOnly}" />
                    </VerticalStackLayout>
                </Border>

                <!-- CAMPO: Correo electrónico -->
                <Border Style="{StaticResource BorderStyle}">
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Correo electrónico"
                               FontAttributes="Bold"
                               FontSize="17"
                               TextColor="{StaticResource color_Negro}" />
                        <!--
                          Campo tipo email. Usa teclado especializado (Keyboard="Email").
                          También respeta IsReadOnly para modo visualización.
                        -->
                        <Entry Placeholder="Correo electrónico"
                               Style="{StaticResource EntryStyle}"
                               Text="{Binding Email}"
                               Keyboard="Email"
                               IsReadOnly="{Binding IsReadOnly}" />
                    </VerticalStackLayout>
                </Border>

                <!-- SECCIÓN DE BOTONES -->
                <!--
                  - Guardar: visible sólo si ShowSaveButton = true (modo Crear/Editar)
                  - Cancelar: siempre visible (descarta cambios y vuelve a la lista)
                -->
                <Grid ColumnDefinitions="*, *"
                      RowDefinitions="Auto"
                      Margin="10,0,10,0">
                    <Button Text="Guardar"
                            Style="{StaticResource UpdateButton}"
                            IsVisible="{Binding ShowSaveButton}"
                            Command="{Binding SaveCommand}"
                            Grid.Column="0"
                            Margin="10,0,10,0" />
                    <Button Text="Cancelar"
                            Style="{StaticResource CancelButton}"
                            Command="{Binding CancelCommand}" 
                            Grid.Column="1"
                            Margin="10,0,10,0" />
                </Grid>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
